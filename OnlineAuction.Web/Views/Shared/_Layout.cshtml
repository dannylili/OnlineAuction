<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        #middle
        {
            width: 100%;
        }
        
        #middle > div
        {
            float: left;
            padding: 0px;
            margin: 0px;
        }
        .valid
        {
           @* background: #4c4e5a;
            background: -webkit-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
            background: -moz-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
            background: -o-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
            background: -ms-linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);
            background: linear-gradient(top, #4c4e5a 0%,#2c2d33 100%);*@
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
        }
        .BtSave
        {
            background-color: Gray;
        }
    </style>
    <title>@ViewBag.Title</title>
    <link href="@Url.Content("../../Content/Gray/Base.css")" type="text/css" media="all" rel="Stylesheet" />
    <link href="../../Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <!--结合属性的requirement做的提示信息要用的js-->
    <script src="../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../Scripts/jquery-ui-1.8.11.js"></script>
    <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/MicrosoftAjax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/MicrosoftMvcAjax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/MicrosoftMvcAjax.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.js")" type="text/javascript"></script>
    <script language="javascript" type="text/jscript">

        $(document).ready(function () {
            try {
                Initial();
            } catch (e) {
                console.log(e.toString());
            }
        });

        /// <!--jquery+mmvc的验证 http://www.cnblogs.com/o2ds/archive/2012/06/27/2565371.html /
        function Initial() {
            //
            $(":text[data-val-required]").each(function (index, n) {
                var oldClass = $(this).attr("class");
                if (oldClass) {
                    $(this).attr("class", "valid").css("display", "block");

                } else {
                    $(this).attr("class", "valid");
                }
            });

            // 给btnSave按钮添加验证事件
            $("input:submit[class*=BtSave]").each(function (i, n) {
                var element = $(this);
                element.click(Save);
            });
        }

        function Save() {
            var messageBody = $("#Uimessage");
            if (messageBody.html() != "") {
                messageBody.html("");
            }

            window.alert(window.location);

            $(":text[class*='valid']").each(function (i, n) {
                var element = $(n);
                var value = $(n).val();
                var message = element.attr("data-val-required");
                if (value == "") {
                    var str = "<li><div>" + message + "</div></li>";
                    messageBody.append(str);

                    // 显示验证消息框
                    $("#DivMessage").dialog({
                        modal: false,
                        // position: [1200, 50],
                        position: ['right', 'top'],
                        show: true,
                        draggable: true
                    });
                }
            });

        }

    </script>
</head>
<body>
    <div id="top" style="width: 100%; height: auto;">
        @Html.Partial("_Top");
    </div>
    <div id="middle" style="width: 1300px; max-width: 1000px; min-height: 50px; height: auto;
        margin: 0 auto; display: table; padding: 0px; border: 1px solid blue; position: relative;">
        sadfasd
        <div id="layoutLeft" style="width: 150px; position: relative;">
            @Html.Partial("_LayoutLeft");
        </div>
        <div id="layoutMain" style="width: 850px; position: relative;">
            @RenderBody()
            <div id="error">
            </div>
        </div>
        <div id="layoutright" style="width: 300px; position: relative;">
            @Html.Partial("_LayoutRight");
        </div>
    </div>
    <div style="right: 5px; position: absolute;" id="DivMessage">
        <ul id="Uimessage">
        </ul>
    </div>
</body>
</html>
